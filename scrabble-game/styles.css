* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Segoe UI', Arial, sans-serif; background: #1a1a2e; color: #eee; min-height: 100vh; display: flex; flex-direction: column; align-items: center; padding: 16px; }
h1 { font-size: 28px; margin-bottom: 8px; color: #e2b04a; letter-spacing: 4px; }

.lobby { background: #16213e; padding: 32px; border-radius: 12px; max-width: 400px; width: 100%; margin-top: 40px; }
.lobby h2 { color: #e2b04a; margin-bottom: 16px; text-align: center; }
.lobby input, .lobby button { display: block; width: 100%; padding: 12px; margin-bottom: 12px; border: none; border-radius: 6px; font-size: 15px; }
.lobby input { background: #0d0d1a; color: #eee; border: 1px solid #333; }
.lobby input:focus { outline: 2px solid #e2b04a; }
#gameCodeInput { text-transform: uppercase; letter-spacing: 3px; text-align: center; }
.btn-create { background: #2d6a4f; color: #fff; font-weight: bold; cursor: pointer; }
.btn-create:hover { background: #3a8963; }
.btn-join { background: #7b2d8b; color: #fff; font-weight: bold; cursor: pointer; }
.btn-join:hover { background: #9a3daa; }
.lobby .or { text-align: center; color: #666; margin: 8px 0; font-size: 13px; }
.lobby .status { text-align: center; color: #e2b04a; margin-top: 8px; font-size: 13px; min-height: 20px; }
.lobby .waiting { text-align: center; color: #aaa; margin-top: 12px; font-size: 14px; }
.lobby .game-code-display { text-align: center; font-size: 28px; letter-spacing: 6px; color: #e2b04a; font-weight: bold; margin: 12px 0; }

.game-container { display: none; width: 100%; max-width: 900px; }
.turn-banner { font-size: 18px; margin-bottom: 12px; padding: 6px 24px; border-radius: 6px; font-weight: bold; text-align: center; }
.turn-mine { background: #2d6a4f; }
.turn-theirs { background: #555; }
.turn-over { background: #e2b04a; color: #1a1a2e; }

.scores { display: flex; gap: 20px; margin-bottom: 12px; font-size: 15px; justify-content: center; flex-wrap: wrap; }
.scores .player { padding: 8px 18px; border-radius: 8px; }
.scores .player.active { outline: 3px solid #e2b04a; }
.score-p1 { background: #2d6a4f; }
.score-p2 { background: #7b2d8b; }

.board-wrapper { display: flex; gap: 20px; align-items: flex-start; flex-wrap: wrap; justify-content: center; }
.board { display: grid; grid-template-columns: repeat(15, 34px); grid-template-rows: repeat(15, 34px); gap: 2px; background: #0d0d1a; padding: 4px; border-radius: 6px; border: 2px solid #333; }
.cell {
  width: 34px; height: 34px; display: flex; align-items: center; justify-content: center;
  font-size: 9px; font-weight: bold; text-transform: uppercase; cursor: pointer;
  border-radius: 3px; position: relative; user-select: none; text-align: center; line-height: 1.1;
}
.cell.normal { background: #c8b89a; color: #665; }
.cell.tw { background: #e04040; color: #fff; }
.cell.dw { background: #e8a0a0; color: #933; }
.cell.tl { background: #2089d0; color: #fff; }
.cell.dl { background: #88c8e8; color: #346; }
.cell.center { background: #e8a0a0; color: #933; }
.cell.has-tile {
  background: #f5e6c8 !important; color: #222 !important;
  font-size: 17px; font-weight: bold; box-shadow: 1px 1px 3px rgba(0,0,0,0.5); cursor: default;
}
.cell.has-tile .points { position: absolute; bottom: 1px; right: 3px; font-size: 7px; color: #666; }
.cell.pending-tile {
  background: #ffe066 !important; color: #222 !important;
  font-size: 17px; font-weight: bold; box-shadow: 1px 1px 3px rgba(0,0,0,0.5), 0 0 6px #e2b04a;
}
.cell.pending-tile .points { position: absolute; bottom: 1px; right: 3px; font-size: 7px; color: #666; }

.sidebar { display: flex; flex-direction: column; gap: 14px; min-width: 200px; }
.rack-section { background: #16213e; padding: 12px; border-radius: 8px; }
.rack-section h3 { margin-bottom: 8px; font-size: 14px; }
.rack { display: flex; gap: 4px; flex-wrap: wrap; }
.tile {
  width: 38px; height: 38px; background: #f5e6c8; color: #222; display: flex;
  align-items: center; justify-content: center; font-size: 18px; font-weight: bold;
  border-radius: 4px; cursor: pointer; position: relative;
  box-shadow: 1px 2px 4px rgba(0,0,0,0.4); user-select: none;
}
.tile:hover { transform: scale(1.1); }
.tile.selected { outline: 3px solid #e2b04a; transform: scale(1.12); background: #ffe066; }
.tile .pts { position: absolute; bottom: 1px; right: 3px; font-size: 8px; color: #666; }

.controls { display: flex; flex-direction: column; gap: 8px; }
.controls button {
  padding: 10px 16px; border: none; border-radius: 6px; font-size: 14px;
  font-weight: bold; cursor: pointer; transition: background 0.2s;
}
.controls button:disabled { opacity: 0.4; cursor: not-allowed; }
.btn-submit { background: #2d6a4f; color: #fff; }
.btn-submit:hover:not(:disabled) { background: #3a8963; }
.btn-recall { background: #555; color: #fff; }
.btn-recall:hover:not(:disabled) { background: #777; }
.btn-shuffle { background: #444; color: #fff; }
.btn-shuffle:hover:not(:disabled) { background: #666; }
.btn-pass { background: #7b2d2d; color: #fff; }
.btn-pass:hover:not(:disabled) { background: #a04040; }

.message { margin-top: 8px; font-size: 13px; color: #e2b04a; min-height: 20px; }
.tiles-remaining { font-size: 12px; color: #aaa; margin-top: 4px; }
.connection-status { font-size: 11px; margin-top: 4px; }
.connected { color: #4caf50; }
.disconnected { color: #f44336; }

@media (max-width: 640px) {
  .board { grid-template-columns: repeat(15, 22px); grid-template-rows: repeat(15, 22px); }
  .cell { width: 22px; height: 22px; font-size: 7px; }
  .cell.has-tile, .cell.pending-tile { font-size: 12px; }
}
